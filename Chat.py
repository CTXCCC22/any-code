import random
import time

def chat_bot():
    """
    简易聊天机器人主函数
    """
    # 欢迎消息
    print("你好！我是聊天机器人小智。输入'再见'可以结束对话。")
    time.sleep(1)
    print("很高兴见到你！今天你感觉怎么样？")

    # 预设的对话规则库
    # 格式: {关键词: [可能的回复列表]}
    response_rules = {
        # 问候相关
        "你好": ["你好啊！", "嗨！很高兴见到你！", "你好，今天过得怎么样？"],
        "嗨": ["嗨！有什么我可以帮助你的吗？", "嗨！今天心情如何？"],
        "早上好": ["早上好！今天有什么计划？", "美好的一天开始了！"],
        "晚上好": ["晚上好！今天过得怎么样？", "晚上好，准备休息了吗？"],

        # 情绪相关
        "好": ["太好了！我很高兴你感觉不错！", "听起来很棒！", "继续保持好心情！"],
        "不错": ["那真不错！有什么特别的事情吗？", "很高兴听到这个！"],
        "开心": ["和你聊天我也很开心！", "快乐是可以传染的，我现在也感到很快乐！"],
        "难过": ["很抱歉听到这个。想聊聊发生了什么吗？", "每个人都会有难过的时候，希望你能尽快好起来。"],
        "累": ["辛苦了，记得适当休息哦。", "累了就休息一下吧，身体最重要。"],

        # 兴趣爱好
        "爱好": ["我喜欢学习新知识，也喜欢和人类聊天。", "我的爱好是帮助人们解决问题！"],
        "喜欢": ["我喜欢很多事物，尤其是能帮助到别人的时候。", "作为AI，我对各种知识都充满好奇！"],
        "音乐": ["音乐是美好的！你喜欢什么类型的音乐？", "我也'听'音乐，虽然不能真正欣赏它的美妙。"],
        "电影": ["电影是很好的娱乐方式！你最近看过什么好电影吗？", "我不能真正看电影，但我可以和你讨论电影情节！"],

        # 功能相关
        "能做什么": ["我可以和你聊天，回答简单问题，讲个笑话，或者安慰你。",
                     "我擅长倾听和简单对话，虽然功能有限，但我会尽力帮助你。"],
        "名字": ["我叫小智，是一个正在学习的聊天机器人。", "你可以叫我小智，很高兴认识你！"],
        "笑话": ["为什么程序员分不清万圣节和圣诞节？因为Oct 31 = Dec 25！",
                 "知道为什么电脑很冷吗？因为它有很多风扇！"],

        # 默认回复（无关键词匹配时）
        "default": ["很有趣！能详细说说吗？",
                    "我不太确定如何回应这个，但我想听更多。",
                    "这是个好观点，我正在学习理解更多话题。",
                    "告诉我更多吧，我对这个很感兴趣！"],

        # 结束对话
        "再见": ["再见！希望很快能再和你聊天。", "很高兴和你聊天，保重！", "再见，祝你今天愉快！"]
    }

    # 无限循环，直到用户说再见
    while True:
        user_input = input("你: ").strip().lower()

        # 检查是否要结束对话
        if any(word in user_input for word in ["再见", "拜拜", "退出", "结束", "bye", "exit"]):
            print("小智:", random.choice(response_rules["再见"]))
            break

        # 尝试匹配关键词
        responded = False
        for keyword, responses in response_rules.items():
            if keyword in user_input and keyword != "default":
                print("小智:", random.choice(responses))
                responded = True
                break

        # 没有匹配到关键词，使用默认回复
        if not responded:
            print("小智:", random.choice(response_rules["default"]))


# 启动聊天机器人
if __name__ == "__main__":
    chat_bot()